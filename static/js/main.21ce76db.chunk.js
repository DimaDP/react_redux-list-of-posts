(this["webpackJsonpreact_redux-list-of-posts"]=this["webpackJsonpreact_redux-list-of-posts"]||[]).push([[0],{23:function(e,t,n){e.exports=n(38)},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),l=n.n(c),s=n(4),o=n(21),u=n(7),i=n.n(u),m=n(12),d=(n(33),n(34),function(e){var t=e.user;return t?r.a.createElement("div",null,r.a.createElement("b",null,t.name),r.a.createElement("br",null),r.a.createElement("span",null,t.email),r.a.createElement("br",null),r.a.createElement("span",null,t.address.city,",",t.address.street,r.a.createElement("i",null," st."),r.a.createElement("br",null),t.address.zipcode)):r.a.createElement(r.a.Fragment,null)}),p=(n(35),n(2)),E=n(22),f=n(8),b=n(20),O=function(e){return e.loading},v=function(e){return e.loaded},y=function(e){return Object(E.a)(e.posts).filter((function(t){return t.title.toLowerCase().includes(e.query.toLowerCase())||t.body.toLowerCase().includes(e.query.toLowerCase())}))},j={loading:!1,posts:[],loaded:!1,query:""},h=Object(f.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case"FINISH_LOADING":return Object(p.a)(Object(p.a)({},e),{},{posts:t.value,loaded:!0,loading:!1});case"SET_SEARCH":return Object(p.a)(Object(p.a)({},e),{},{query:t.query});case"DELETE_COMMENT":return Object(p.a)(Object(p.a)({},e),{},{posts:e.posts.map((function(e){return e.id===t.id?Object(p.a)(Object(p.a)({},e),{},{commentList:e.commentList.filter((function(e){return e.id!==t.commentId}))}):e}))});case"DELETE_POST":return Object(p.a)(Object(p.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});default:return e}}),Object(b.composeWithDevTools)()),g=function(e){var t=e.comment,n=Object(s.b)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return e=t.postId,a=t.id,n(function(e,t){return{type:"DELETE_COMMENT",id:e,commentId:t}}(e,a));var e,a},type:"button",className:"close","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),r.a.createElement("b",null,t.name),r.a.createElement("p",null,t.body),r.a.createElement("i",null,r.a.createElement("span",null,t.email)))},_=function(e){var t=e.commentList;return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement(r.a.Fragment,{key:e.id},r.a.createElement("div",{className:"post__comment"},r.a.createElement(g,{comment:e})))})))},N=(n(36),function(e){var t=e.post,n=t.title[0].toUpperCase()+t.title.substring(1),a=Object(s.b)();return r.a.createElement("div",{className:"test"},r.a.createElement("div",{className:"posts__item"},r.a.createElement("button",{onClick:function(){return e=t.id,a({type:"DELETE_POST",postId:e});var e},type:"button",className:"close","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),r.a.createElement("h2",null,n),r.a.createElement("p",{className:"posts__text"},t.body),r.a.createElement(d,{user:t.user})),r.a.createElement("div",{className:"post__comments"},r.a.createElement(_,{commentList:t.commentList})))}),L=function(){var e=Object(s.c)(y);return r.a.createElement("div",{className:"posts"},e.map((function(e){return r.a.createElement(r.a.Fragment,{key:e.id},r.a.createElement("div",null,r.a.createElement(N,{post:e})))})))},I=function(e){return fetch(e).then((function(e){return e.json()}))},T=function(){var e=Object(m.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I("https://mate-academy.github.io/react_dynamic-list-of-posts/api/posts.json");case 2:return t=e.sent,e.next=5,I("https://mate-academy.github.io/react_dynamic-list-of-posts/api/users.json");case 5:return n=e.sent,e.next=8,I("https://mate-academy.github.io/react_dynamic-list-of-posts/api/comments.json");case 8:return a=e.sent,e.abrupt("return",t.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{user:n.find((function(t){return t.id===e.userId})),commentList:a.filter((function(t){return t.postId===e.id}))})})));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(s.b)(),t=Object(s.c)(O),n=Object(s.c)(v),a=Object(s.c)(y),c=function(){var t=Object(m.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:"START_LOADING"}),t.next=3,T().then((function(t){e({type:"FINISH_LOADING",value:t})}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"React dynamic list of Posts"),r.a.createElement("div",null,n?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Found \xa0",a.length,"\xa0 posts"),r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"search...",className:"form-control form-control-lg",onChange:function(t){var n=t.currentTarget.value;e({type:"SET_SEARCH",query:n})}})),r.a.createElement("div",{className:"content"},r.a.createElement(L,null))):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:c,disabled:t},t?"loading...":"Load"))))},w=function(){return r.a.createElement(s.a,{store:h},r.a.createElement(o.a,null,r.a.createElement(C,null)))};l.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.21ce76db.chunk.js.map